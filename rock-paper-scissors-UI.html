<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="rock-paper-scissors-UI.css">
</head>
    
<body>
    <h1 class="title">Rock, Paper, Scissors</h1>

    <div class = "buttons">
        <button class="btn" id="rock">Rock</button>
        <button class="btn" id="paper">Paper</button>
        <button class="btn" id="scissors">Scissors</button>
    </div>

    <div class="container">
        <h2 class = "result-header">Results</h2>
        <div class = "results"></div>
        <div class = "player">Player score: </div>
        <div class="computer">Computer score: </div>
    </div>
</body>

<script>
//function that chooses rock, paper, or scissors randomly.
function computerPlay() {
    let choices = ["Rock","Paper","Scissors"];
    let computerChoice = choices[Math.floor(Math.random() * choices.length)];
    return computerChoice;
}

//selector for all buttons
const btn = document.querySelectorAll('.btn');
btn.forEach((button) => {
    button.addEventListener('click', playRound)
});

let playerScore = 0;
let computerScore = 0;
let ties = 0;

function playRound() {

    let playerSelection;

    if (this.id == "rock") {
        playerSelection = "rock";
    } else if (this.id == "paper") {
        playerSelection = "paper";
    } else if (this.id == "scissors") {
        playerSelection = "scissors";
    } else {
        return "Oops. Something went wrong.";
    };

    console.log(playerSelection);

    playerSelection = playerSelection.toLowerCase();

    computerSelection = computerPlay().toLowerCase();

    const results = document.querySelector('.results');
    const round = document.createElement('div');

        if (playerSelection == computerSelection) {
            console.log("Tie");
            round.textContent = "Tie.";
        } else if (playerSelection == "rock" && computerSelection == "paper") {
            console.log("Rock vs Paper. Lose.");
            round.textContent = "Rock vs Paper. Lose.";   
        } else if (playerSelection == "rock" && computerSelection == "scissors") {
            console.log("Rock vs Scissors. Win!");
            round.textContent = "Rock vs Scissors. Win!";  
        } else if (playerSelection == "paper" && computerSelection == "rock") {
            console.log("Paper vs Rock. Win!");
            round.textContent = "Paper vs Rock. Win!";   
        } else if (playerSelection -score== "paper" && computerSelection == "scissors") {
            console.log("Paper vs Scissors. Lose.");
            round.textContent = "Paper vs Scissors. Lose.";   
        } else if (playerSelection == "scissors" && computerSelection == "rock") {
            console.log("Scissors vs Rock! Lose.");
            round.textContent = "Scissors vs Rock! Lose.";   
        } else if (playerSelection == "scissors" && computerSelection == "paper") {
            console.log("Scissors vs Paper. Win!");
            round.textContent = "Scissors vs Paper. Win!"; 
        } else {
            return "Ooops. Something went wrong."
    };

    results.appendChild(round);

    const pScore = document.createElement('div');
    const cScore = document.createElement('div');

    if (round.textContent.includes('Win!')) {
        playerScore++;
    } else if (round.textContent.includes('Lose.')) {
        computerScore++;
    } else {
        ties++;
    };

    const phrase = document.createElement('div');

    if (playerScore > computerScore && playerScore >= 5) {
        console.log("Well done! You beat the computer!");
        phrase.textContent = "Well done! You beat the computer!";
        results.appendChild(phrase);
    } else if (playerScore < computerScore && computerScore >= 5) {
        console.log("Too bad. The computer won this time :(");
        phrase.textContent = "Too bad. The computer won this time :(";
        results.appendChild(phrase);
    };

    const player = document.querySelector('.player');
    const computer = document.querySelector('.computer');

    pScore.textContent = playerScore;
    cScore.textContent = computerScore;
    
    player.appendChild(pScore);
    computer.appendChild(cScore);

};



</script>

</html>