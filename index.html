<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
    
<body>
    <header class="header">
        <h1 class="title">Rock, Paper, Scissors</h1>
    </header>

    <div class = "buttons">
        <button class="btn" id="rock">Rock</button>
        <button class="btn" id="paper">Paper</button>
        <button class="btn" id="scissors">Scissors</button>
    </div>

    <div class="container">
        <h2 class="result-header">Results</h2>
        <p class="results gap"></p>
        <div class="player gap">
            <h3>Player score:</h2>
            <p class="player-total"></p>
        </div>
        <div class="computer gap">
            <h3>Computer score:</h2>
            <p class="computer-total"></p>
        </div>
        <p class="phrase"></p>
    </div>
</body>

<script>
//function that chooses rock, paper, or scissors randomly.
function computerPlay() {
    let choices = ["Rock","Paper","Scissors"];
    let computerChoice = choices[Math.floor(Math.random() * choices.length)];
    return computerChoice;
}

//selector for all buttons
const btn = document.querySelectorAll('.btn');
btn.forEach((button) => {
    button.addEventListener('click', playRound)
});

let playerScore = 0;
let computerScore = 0;

function playRound() {

    let playerSelection;

    if (this.id == "rock") {
        playerSelection = "rock";
    } else if (this.id == "paper") {
        playerSelection = "paper";
    } else if (this.id == "scissors") {
        playerSelection = "scissors";
    } else {
        return "Oops. Something went wrong.";
    };

    console.log(playerSelection);

    playerSelection = playerSelection.toLowerCase();

    computerSelection = computerPlay().toLowerCase();

    const results = document.querySelector('.results');

        if (playerSelection == computerSelection) {
            console.log("Tie");
            results.textContent = "Tie.";
        } else if (playerSelection == "rock" && computerSelection == "paper") {
            console.log("Rock vs Paper. Lose.");
            results.textContent = "Rock vs Paper. Lose.";   
        } else if (playerSelection == "rock" && computerSelection == "scissors") {
            console.log("Rock vs Scissors. Win!");
            results.textContent = "Rock vs Scissors. Win!";  
        } else if (playerSelection == "paper" && computerSelection == "rock") {
            console.log("Paper vs Rock. Win!");
            results.textContent = "Paper vs Rock. Win!";   
        } else if (playerSelection == "paper" && computerSelection == "scissors") {
            console.log("Paper vs Scissors. Lose.");
            results.textContent = "Paper vs Scissors. Lose.";   
        } else if (playerSelection == "scissors" && computerSelection == "rock") {
            console.log("Scissors vs Rock! Lose.");
            results.textContent = "Scissors vs Rock! Lose.";   
        } else if (playerSelection == "scissors" && computerSelection == "paper") {
            console.log("Scissors vs Paper. Win!");
            results.textContent = "Scissors vs Paper. Win!"; 
        } else {
            return "Ooops. Something went wrong."
    };

    if (results.textContent.includes('Win!')) {
        playerScore++;
    } else if (results.textContent.includes('Lose.')) {
        computerScore++;
    };

    const playerTotal = document.querySelector('.player-total');
    playerTotal.textContent = playerScore;

    const computerTotal = document.querySelector('.computer-total');
    computerTotal.textContent = computerScore;

    const phrase = document.querySelector('.phrase');

    if (playerScore >= 5 && computerScore < playerScore) {
        console.log("Well done! You beat the computer!");
        phrase.textContent = "Well done! You beat the computer!";
    } else if (computerScore >= 5 && playerScore < computerScore) {
        console.log("Too bad. The computer won this time :(");
        phrase.textContent = "Too bad. The computer won this time :(";
    };
};



</script>

</html>